let products11=
// JSON.parse(localStorage.getItem("products"))||[];
[
    {
        image:"https://down-vn.img.susercontent.com/file/sg-11134201-7rcen-lsm8dfmb14iqd5",
        imageSon:[
            {id:1,
            src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rcbv-lsm8ddgw6ex969"},
            {id:2,
                src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rceb-lsm8df17vzs9d6"
            },
            {
                id:3, 
                src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rcfb-lsm8dg0ggfhoa6"
            },
            {
                id:4 ,
                src:"https://down-vn.img.susercontent.com/file/cn-11134207-7r98o-lstb2dc4hju596"
            }

        
        ],
        stock:100,
        name:"LEOSOXS Ga G·ªëi D·ªám B·ªô <br> ChƒÉn Cotton Ph·ªëi M√†u D·ªß Size Drap", 
        id:1,
        price:940.000
    },
    {
        image:"https://down-vn.img.susercontent.com/file/sg-11134201-7rbnc-loz13gta3cth46 ",
        imageSon:[
            {
                id:1,
                src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rbmt-loyx9ckwcqgu8b"
            },
            {
                id:2,
                src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rbni-loz13gtu2jyy52"
            },
            {
                id:3,
                src:"https://down-vn.img.susercontent.com/file/cn-11134207-7r98o-lqpvg5iwl4c58d"
            },
            {
                id:4,
                src:"https://down-vn.img.susercontent.com/file/cn-11134207-7r98o-lqpvg5iwnxh14a"
            },
        ],
        stock:200,
        name:"L∆∞·ª£c Ch·∫£i T√≥c D·ªÖ Th∆∞∆°ng Di ƒê·ªông ∆Ø·ªõt ", 
        id:2,
        price:45.000
    },
    {
        image:"https://down-vn.img.susercontent.com/file/sg-11134201-7rce4-lsy0opgkkisv38",
        imageSon:[
            {
                id:1,
                src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rcc1-lt3p6gm7b8x70f"
            },
            {
                id:2,
                src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rce9-lt3p6jcfa4bq7d"
            },
            {
                id:3,
                src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rcce-lt3p6l3yp4hh9e"
            },
            {
                id:4,
                src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rccg-lt3p6h3yjv969e"
            }
        ],
        stock:500,
        name:"Miya Studio aÃÅo croptop √Åo 2 d√¢y aÃÅo ba loÃÇÃÉ ", 
        id:3,
        price:105.000
    },
    {
        image:"https://down-vn.img.susercontent.com/file/sg-11134201-7rble-lpeursde4qc71c",
        imageSon:[
            {
                id:1,
                src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rblh-lpeurspvl2ibcd"
            },
            {
                id:2,
                src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rblf-lpeurt3h15vid6"
            },
            {
                id:3,
                src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rblu-lpeurt7mwhe05c"
            },
            {
                id:4,
                src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rbnc-lpeurscu5k3y39"
            }

        ],
        stock:1000,
        name:"Balo h·ªçc sinh H√†n Qu·ªëc ", 
        id:4,
        price:295.000 
    },
    { 
        image:"https://down-vn.img.susercontent.com/file/vn-11134207-7qukw-lkiznnnaw0po19",
        imageSonn:[
            {
                id:1,
                src:"https://down-vn.img.susercontent.com/file/vn-11134207-7qukw-lkiznnnbfp2g9b"
            },
            {
                id:2,
                src:"https://down-vn.img.susercontent.com/file/vn-11134207-7qukw-lkiznnnaxfa4ad"
            },
            {
                id:3,
                src:"https://down-vn.img.susercontent.com/file/vn-11134207-7qukw-lkiznnnbh3mw57"
            },
            {
                id:4,
                src:"https://down-vn.img.susercontent.com/file/vn-11134207-7qukw-lkiznnnbii7cfc"
            }
        ],
        stock:600,
        name:"Ph·∫•n b·∫Øt s√°ng MYHO", 
        id:5,
        price:57.000 

    },
    {
        image:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lmvytutmzrvj6e",
        imageSon:[
            {
                id:1,
                src:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lmvytutnf84f14"
            },
            {
                id:2,
                src:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lmvytutnuodb7d"
            },
            {
                id:3,
                src:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lmvytuu6yyu768"

            },
            {
                id:4,
                src:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lmvytuv0xqsffb"
            }
        ],
        stock:300,
        name:"T√∫i mini ƒëeo ch√©o th√™u ch·ªâ ch√©o n·∫Øpüíñ", 
        id:6,
        price:90.000
    },
   {

    image:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lqq6sjgsb6c234",
    imageSon:[
        {
            id:1,
            src:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-ls6yyrtxbwyh9d"
        },
        {
            id:2,
            src:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lqra89mto15e1e"
        },
        {
            id:3,
            src:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lqq6sjgrvqd326"
        },
        {
            id:4,
            src:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lqq6sjgrvq368f"
        }
    ],
    stock:750,
    name:"Set √°o cadigan + ch√¢n v√°y x·∫øp li Thom", 
    id:7,
    price:359.000
   },
   {
    image:"https://down-vn.img.susercontent.com/file/sg-11134201-7rccx-lrwiqberi2mq97" ,
    imageSon:[
        {
            id:1,
            src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rccl-lr4dzyud590534"
        },
        {
            id:2,
            src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rcc9-lr4e03cojq5nb7"
        },
        {
            id:3,
            src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rcdr-lr4e04t4ezj8a9"
        },
        {
            id:4,
            src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rccl-lrwiqdyvra3v85"
        }
    ],
    stock:320,
    name:"KOREMAZ 10 h√†ng Mi gi·∫£ t√°ch s·ª£i si√™u m·∫£nh", 
    id:8,
    price:40.000
   },
   {
    image:"https://down-vn.img.susercontent.com/file/cn-11134207-7r98o-lp93ct7ismzg1b" ,
    imageSon:[
        {
            id:1,
            src:"https://down-vn.img.susercontent.com/file/cn-11134207-7r98o-lp93ct7iu1jwc0"
        },
        {
            id:2,
            src:"https://down-vn.img.susercontent.com/file/cn-11134207-7r98o-lp93ct7iwuosa0"
        },
        {
            id:3,
            src:"https://down-vn.img.susercontent.com/file/cn-11134207-7r98o-lp93ct7iy99859"
        },
        {
            id:4,
            src:"https://down-vn.img.susercontent.com/file/cn-11134207-7r98o-lp93ct7j12e471"  
        }
      

    ],
    stock:120,
    name:"D√©p l√¥ng m·ªÅm hai quai", 
    id:9,
    price:52.000
   },
   {

   image:"https://down-vn.img.susercontent.com/file/sg-11134201-7rbng-lp0emv67pqaf30" ,
    imageSon:[
        {
            id:1,
            src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rbk9-louw88ajh26v0a"
        },
        {
            id:2,
            src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rbl4-louw88qwt3raa9"
        },
        {
            id:3,
            src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rbkw-louw8cr6zdgd11"
        },
        {
            id:4,
            src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rbkw-louw8cr6zdgd11"
        }
    ],
    stock:20,
   name:"V·ªõ Ren L∆∞·ªõi M√†u Tr∆°n ƒê√≠nh N∆° Ph·ªëi B√®o Nh√∫n", 
   id:9,
   price:12.000
  },
  {

    image:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lrvqjs624ryxe5" ,
     imageSon:[
        {
            id:1,
            src:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lrvqjs60vttwf9"
        },
        {
            id:2,
            src:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lrvqjs624s0436"
        },
        {
            id:3,
            src:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lrvqjs60uf9g2d"
        },
        {
            id:4,
            src:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lrvqjs6au0n81a"
        }
     ],
     stock:90,
    name:"√Åo Tr·ªÖ Vai TWENTI D√†i Tay √îm D√°ng", 
    id:9,
    price:152.000
   },

   {

    image:"https://down-vn.img.susercontent.com/file/sg-11134201-7rbnl-lom7355a92702a" ,
     imageSon:[
        {
            id:1,
            src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rbk5-lom73684mt7gc2"
        },
        {
            id:2,
            src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rblt-lom737iqql9mb5"
        },
        {
            id:3,
            src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rbnl-lom739dw0cfk63"
        },
        {
            id:4,
            src:"https://down-vn.img.susercontent.com/file/sg-11134201-7rbmt-lom739svef3wa9"
        }
     ],
     stock:12,
    name:"We flower K√≠nh M√°t M·∫Øt M√®o Ch·ªëng Tia uv400", 
    id:9,
    price:92.000
   },


]
console.log(11);
// l∆∞u data tren localStorage
// localStorage.setItem ("products",JSON.stringify(products11));


let user = JSON.parse(localStorage.getItem("user"));
let check=false;
let users = JSON.parse(localStorage.getItem("users")) || [];
function changeName() {
    for (let i = 0; i < users.length; i++) {
        if (user.id == users[i].id){
            check=true;
            break;
        }
    }
    if(!check){
        document.getElementById("user").innerHTML=
        `
        <div id ="user" class="user">
            <li> <a class="fa-solid fa-user-tie"></a></li><a href="./register.html">ƒêƒÉng k√≠</a>
            <li> <a class="fa-solid fa-user-tie"></a></li><a href="./login.html">ƒêƒÉng nh·∫≠p</a>
        </div>
        `;
                     
    }else{
        document.getElementById("user").innerHTML=`<div id="user" > ${user.name} ${user.surname}</div>`;
    }
}
// l·∫•y d·ªØ li·ªáu v·ªÅ ƒëi render
// fuction render product 
changeName();
function renderProduct (){
    let element="";
    for(let i=0;i<products11.length;i++){
        element+=
        `<div onclick="productDetail(${products11[i].id})" id="products" class="cartegory-right-content1 ">
            <div onclick="addToCart(${products11[i].id})" class ="cartegory-right-content-item ">
                <img src="${products11[i].image}" alt="" width="250px">
                <h3>${products11[i].name}</h3>
                <p>${products11[i].price}.000<sup>ƒë</sup></p>
            </div>
        </div>
    `
    }
    document.getElementById("products").innerHTML =element;

}
renderProduct();

// function ƒëi mua h√†ng 
function addToCart(productId){
    // ddang nha moi cho mua hang 
    if(!check){
        alert("ban phai dang nhap de mua hang");
        return;
    }
    /* 

    l·∫•y gio hang cua user de di mua h√†ng 
    v√† l·∫•y gio h√†ng user d·ª±a v√†o id cua user 

    */
    for (let i=0;i<users.length;i++){
        if (users[i].id == user.id ){
            // l·∫•y th√¥ng tin san pham de dua vao gio hang
            // lam sao de l√¢y thong tin spham
            // console.log ("11111",productId);
            // c√≥ id spham roi lam sao lay thong tin spham 
            for(let j=0;j<products.length;j++){
                if(productId== products[j].id){
                    // lay th√¥ng tin spham 
                    // let a={... product[j].quantity:1}

                    /*

                    truoc khi them vao phai xem trong gio hang co san pham do chua 
                    co roi thi tang so luong con chua co thi them vao btap

                    */

                    // kiem tra xem trong gio hang co ton tai san pham do chua 
                    // duyet gio hang
                    let check2 = false
                    for (const i in user.cart) {
                        if (productId == user.cart[i].id) {
                            check2 = true;
                            break;                            
                        }
                    }
                    if(!check2){
                        // tuc la ko co them bth
                        user.cart.push({...products[j],quantity:1});
                        localStorage.setItem("user",JSON.stringify(user));
                    }else{
                        //co roi di tang so luong
                        // minh phai biet vi tri cua cai can tang
                        for (let i in user.cart) {
                            if (user.cart[i].id = productId) {
                                user.cart[i].quantity++;
                                localStorage.setItem("user",JSON.stringify(user));
                            }
                        }
                    }
                    users[i] = user;
                    localStorage.setItem("users",JSON.stringify(users));
                }
            }
        }
    }
    renderCart();
}
function renderCart() {
    let total = 0; 
    for (let i in user.cart) {
        total += user.cart[i].quantity
    }
    let itemInCart = document.getElementById("itemInCart");
    itemInCart.innerText = total;
}
function productDetail(id) {
    console.log(1111);
    console.log(id);
    localStorage.setItem("idProduct",id);
    window.location.href = "./product.html";
}


const imgPosition = document.querySelectorAll(".aspect-ratio-169 img")
const imgContainer = document.querySelector('.aspect-ratio-169')
const dotItem =document.querySelectorAll(".dot")
let imgNuber=imgPosition.length
let index=0

// console.log(imgPosition)
imgPosition.forEach(function(image,index){
 image.style.left= index *100+ "%"
 dotItem[index].addEventListener("click",function(){
    slider(index)
 })
})
function imgSlide(){
    index++;
    if (index >=imgNuber){index=0}
    slider(index)
}
function slider(index){
    imgContainer.style.left="-"+index*100+"%"
    dotItem[index].classList.add("active")      
}
setInterval(imgSlide,5000)

function clickOnCart(){
    window.location.href = `./cart.html`
}